{
  "name": "cloudflare-vless-worker",
  "version": "1.2.0", // Increment version
  "description": "Cloudflare Worker for VLESS proxy with obfuscation and generated files",
  "private": true,
  "main": "src/index.js", // Still points to the original source
  "scripts": {
    "dev": "wrangler dev src/index.js", // Point dev to original source
    
    "prepare-build": "node ./scripts/prepare-build.js", // New script to inject content
    
    "build:raw": "npm run prepare-build && wrangler build src/index.built.js --outdir dist --name worker-raw && mv dist/_worker.js dist/worker.raw.js", // Build from prepared file
    
    "obfuscate": "npm run build:raw && npx javascript-obfuscator dist/worker.raw.js --output _worker.js && cp _worker.js dist/worker.obfuscated.js", // Obfuscate raw bundle, output to root _worker.js
    
    "build": "npm run obfuscate", // Default build now prepares, builds raw, obfuscates

    "deploy:obfuscated": "npm run build && wrangler deploy ./_worker.js --no-bundle", // Deploy obfuscated from root
    
    "deploy:raw": "npm run build:raw && wrangler deploy dist/worker.raw.js --no-bundle", // Deploy raw bundle
    
    "deploy": "wrangler deploy src/index.js" // Deploy directly from original source
  },
  "author": "NiREvil",
  "license": "MIT",
  "devDependencies": {
    "javascript-obfuscator": "^4.1.0",
    "wrangler": "^4.12.0" 
  }
}
